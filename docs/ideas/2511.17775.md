# Arxiv Analysis: Episodic Memory in Agentic Frameworks

**ID:** 2511.17775
**Date:** 2024-07-25
**Link:** https://arxiv.org/abs/2511.17775

## Executive Summary
The paper proposes an episodic memory architecture for agentic frameworks to enhance human-AI co-creation. The core idea is to introduce a dedicated "Episodic Memory Agent" that observes, records, and retrieves past user-AI interaction sequences (workflows). By matching a user's current workflow against a database of historical workflows, the system can suggest plausible next tasks. This approach aims to reduce LLM hallucination and provide domain-specific guidance without the need for fine-tuning models on scarce, proprietary data. The system leverages a formal provenance database to store workflows and uses a similarity-matching algorithm based on text embeddings and tool-call sequences to find relevant historical examples.

## Idea Brainstorming
*What concepts are potentially useful for THIS project?*
- **Episodic Memory Agent:** The concept of a dedicated agent (`WorkflowAnalyst`) that manages the lifecycle of workflow memory is highly applicable. It would observe user interactions with the existing agent crew, compile them into structured workflows, and store them in our `khala-agentmemory` system.
- **Workflow-based Task Suggestion:** Instead of relying solely on a general-purpose LLM, we can use historical, successful trading workflows to suggest the next analytical or operational steps to the user. This would be particularly powerful for guiding users through complex analysis patterns like the "Debate" or "COPE" strategies.
- **Formal Workflow Schema:** Adopting a standardized schema for storing workflows (sequences of instructions and tool calls) would provide a robust foundation for memory retrieval and analysis. This would involve creating `Workflow` and `WorkflowStep` tables in our SurrealDB backend.
- **Similarity-based Retrieval:** The paper's method of retrieving workflows using a combination of text embedding similarity (for user instructions) and exact tool-call matching is a perfect fit for our `khala-agentmemory` system, which already supports vector search.

## Gap Analysis
*Compare paper concepts vs. `current_codebase`. What do we already have? What is missing?*

| Feature/Concept | Current State (Codebase) | Missing / Needed |
| :--- | :--- | :--- |
| **Workflow Database** | The `khala-agentmemory` system (SurrealDB + Vector Search) is a powerful and suitable foundation. | A dedicated data schema (`Workflow`, `WorkflowStep`) needs to be designed and implemented. |
| **Episodic Memory Agent** | No such agent exists. | A new agent (`WorkflowAnalyst`) must be created to manage the entire episodic memory lifecycle. |
| **Workflow Compiler** | No such mechanism exists. | Logic must be developed to transform raw agent interaction logs into the formal `Workflow` schema. |
| **Workflow Retrieval** | The underlying vector search capability exists. | A specific `WorkflowMemoryToolkit` is needed to provide high-level functions for querying and retrieving similar workflows. |
| **Suggestion UI/API** | The API can be extended to include suggestions. | The backend needs a clear integration point to inject the suggestions into the final API response. |

## Implementation Plan
*Granular, step-by-step task list to port the ideas to our code.*

- [ ] **Schema Design:** Define and implement the `Workflow` and `WorkflowStep` schemas within `khala-agentmemory`.
- [ ] **Workflow Compiler:** Develop a service or function that takes a session's interaction history and transforms it into the new `Workflow` and `WorkflowStep` objects.
- [ ] **Toolkit Development:** Create a `WorkflowMemoryToolkit` with `save_workflow` and `find_similar_workflows` methods.
- [ ] **Agent Scaffolding:** Create the new `WorkflowAnalyst` agent, equipped with the `WorkflowMemoryToolkit`.
- [ ] **Core Logic:** Implement the primary logic within the `WorkflowAnalyst` to orchestrate the compilation, retrieval, and LLM-based suggestion generation.
- [ ] **API Integration:** Modify the main API endpoint to invoke the `WorkflowAnalyst` after the primary agent crew completes its work, and append the suggestions to the response.
- [ ] **Frontend (Optional):** Update the UI to gracefully display the next-task suggestions.
