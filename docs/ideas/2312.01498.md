# Paper 2312.01498: Heuristic-Based Market Congestion Analysis

## 1. Summary of the Research Paper

The research paper "Learning Neural Traffic Rules" proposes an environment-centric navigation policy that uses a Graph Recurrent Neural Network (GRNN) to learn and apply traffic rules to avoid agent congestion. This approach is inspired by real-world traffic networks.

## 2. Integration into CryptoSentinel (Heuristic Adaptation)

The core concept of assessing "congestion" from the research paper has been adapted for the CryptoSentinel trading bot. Instead of implementing the paper's GNN model, which would require a complex training pipeline, a pragmatic heuristic-based approach has been implemented. In this context, "market congestion" is defined as overbought/oversold conditions where a trend reversal is likely.

### 2.1. `TrafficRuleToolkit`

A new toolkit, `TrafficRuleToolkit`, has been created in `backend/tools/traffic_rules.py`. This toolkit acts as a market risk assessment module, providing a score that represents the current level of market congestion.

### 2.2. Heuristic Congestion Model

Instead of a GNN, the toolkit uses a heuristic model that combines two widely-used technical indicators to calculate a "congestion score":

-   **Relative Strength Index (RSI):** The model penalizes trades when the RSI is in overbought (>70) or oversold (<30) territory.
-   **Bollinger Bands (BB):** The model penalizes trades when the current price breaks above the upper or below the lower Bollinger Band.

The final score is a weighted average of the penalties from these two indicators.

### 2.3. Integration with the `DeepTraderManager`

The `TrafficRuleToolkit` is integrated into the `DeepTraderManager` agent as a final safety check before trade execution. The manager first obtains the necessary data (RSI, price, Bollinger Bands) from the `MarketAnalyst` and then calls the `get_market_congestion_score` method. Based on the returned score, the manager can:

-   **Proceed:** If the congestion score is low.
-   **Modify:** If the score is moderate, the trade size can be reduced.
-   **Veto:** If the score is high, the trade is canceled.

This provides a practical and effective way to avoid entering trades in risky, over-extended market conditions, aligning with the spirit of the original research paper.
